{"ast":null,"code":"import _objectSpread from\"C:/Users/danie/Desktop/lift_logger/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Plus,Timer,Dumbbell,CheckCircle,LogOut}from'lucide-react';// Auth0 Configuration - Replace these with your actual values\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AUTH0_DOMAIN='dev-eqq8cewauaf67lub.us.auth0.com';const AUTH0_CLIENT_ID='pbLaDO8NGz3oVQKctDS0O83JkFuuSGFj';const API_URL='https://liftlogger-api-dragan-dgecbkbfazf7gugc.centralus-01.azurewebsites.net/';const PRESET_EXERCISES=[{id:1,name:'Squat',muscle_group:'Legs'},{id:2,name:'Bench Press',muscle_group:'Chest'},{id:3,name:'Deadlift',muscle_group:'Back'},{id:4,name:'Overhead Press',muscle_group:'Shoulders'},{id:5,name:'Barbell Row',muscle_group:'Back'},{id:6,name:'Pull-ups',muscle_group:'Back'},{id:7,name:'Dips',muscle_group:'Chest'}];const WORKOUT_TYPES={1:'Legs',2:'Chest',3:'Back',4:'Arms',5:'Shoulders',6:'Full Body'};export default function LiftLogger(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[accessToken,setAccessToken]=useState(null);const[user,setUser]=useState(null);const[isLoading,setIsLoading]=useState(true);const[view]=useState('log');const[exercises,setExercises]=useState(PRESET_EXERCISES);const[currentWorkout,setCurrentWorkout]=useState(null);const[todaySets,setTodaySets]=useState([]);const[restTimer,setRestTimer]=useState(0);const[isTimerRunning,setIsTimerRunning]=useState(false);const[selectedExercise,setSelectedExercise]=useState('');const[weight,setWeight]=useState('');const[reps,setReps]=useState('');const[feel,setFeel]=useState(7);const[rpe,setRpe]=useState('');const[tempo,setTempo]=useState('normal');const[isDropset,setIsDropset]=useState(false);const[dropsetParentId,setDropsetParentId]=useState(null);const[editingSetId,setEditingSetId]=useState(null);const[showSummary,setShowSummary]=useState(false);const[bodyWeight,setBodyWeight]=useState('');const[workoutType,setWorkoutType]=useState('');const[workoutNotes,setWorkoutNotes]=useState('');const[showNewExercise,setShowNewExercise]=useState(false);const[newExerciseName,setNewExerciseName]=useState('');const[newExerciseMuscle,setNewExerciseMuscle]=useState('');// Check for auth token on mount\nuseEffect(()=>{const token=localStorage.getItem('access_token');if(token){setAccessToken(token);setIsAuthenticated(true);fetchUser(token);}// Check for OAuth callback\nconst hash=window.location.hash;if(hash){const params=new URLSearchParams(hash.substring(1));const token=params.get('access_token');if(token){localStorage.setItem('access_token',token);setAccessToken(token);setIsAuthenticated(true);fetchUser(token);window.location.hash='';}}setIsLoading(false);},[]);// Timer effect\nuseEffect(()=>{let interval;if(isTimerRunning){interval=setInterval(()=>{setRestTimer(prev=>prev+1);},1000);}return()=>clearInterval(interval);},[isTimerRunning]);const fetchUser=async token=>{try{const response=await fetch(\"\".concat(API_URL,\"/user/me\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setUser(data);}}catch(error){console.error('Error fetching user:',error);}};const login=()=>{const redirectUri=window.location.origin;const authUrl=\"https://\".concat(AUTH0_DOMAIN,\"/authorize?\")+\"response_type=token&\"+\"client_id=\".concat(AUTH0_CLIENT_ID,\"&\")+\"redirect_uri=\".concat(encodeURIComponent(redirectUri),\"&\")+\"scope=openid profile email&\"+\"audience=https://liftlogger-api&\"+\"connection=google-oauth2\";window.location.href=authUrl;};const logout=()=>{localStorage.removeItem('access_token');setAccessToken(null);setIsAuthenticated(false);setUser(null);setCurrentWorkout(null);setTodaySets([]);const returnTo=window.location.origin;window.location.href=\"https://\".concat(AUTH0_DOMAIN,\"/v2/logout?client_id=\").concat(AUTH0_CLIENT_ID,\"&returnTo=\").concat(encodeURIComponent(returnTo));};const apiCall=async function(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const response=await fetch(\"\".concat(API_URL).concat(endpoint),_objectSpread(_objectSpread({},options),{},{headers:_objectSpread({'Content-Type':'application/json','Authorization':\"Bearer \".concat(accessToken)},options.headers)}));if(!response.ok){throw new Error(\"API call failed: \".concat(response.statusText));}return response.json();};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));};const startWorkout=async()=>{if(!workoutType){alert('Please select a workout type');return;}try{const workout=await apiCall('/workouts/start',{method:'POST',body:JSON.stringify({date:new Date().toISOString().split('T')[0],workout_type:parseInt(workoutType),notes:workoutNotes})});setCurrentWorkout(_objectSpread(_objectSpread({},workout),{},{started_at:new Date()}));if(bodyWeight){await apiCall('/bodyweight',{method:'POST',body:JSON.stringify({date:new Date().toISOString().split('T')[0],weight:parseFloat(bodyWeight)})});}}catch(error){console.error('Error starting workout:',error);alert('Failed to start workout. Please try again.');}};const logSet=async()=>{if(!selectedExercise||!weight||!reps){alert('Please fill in exercise, weight, and reps');return;}const setData={workout_id:currentWorkout.id,exercise_id:parseInt(selectedExercise),set_number:todaySets.filter(s=>s.exercise_id===selectedExercise&&!s.is_dropset).length+1,weight:parseFloat(weight),reps:parseInt(reps),feel_rating:parseInt(feel),rpe:rpe?parseFloat(rpe):null,tempo:tempo,rest_time:restTimer,is_dropset:isDropset,dropset_parent_id:dropsetParentId,notes:''};try{if(editingSetId){const updatedSet=await apiCall(\"/sets/\".concat(editingSetId),{method:'PUT',body:JSON.stringify(setData)});setTodaySets(todaySets.map(s=>s.id===editingSetId?updatedSet:s));setEditingSetId(null);}else{const newSet=await apiCall('/sets',{method:'POST',body:JSON.stringify(setData)});setTodaySets([...todaySets,newSet]);}// Reset form\nsetWeight('');setReps('');setFeel(7);setRpe('');setTempo('normal');if(isDropset){setIsDropset(false);setDropsetParentId(null);}if(!editingSetId){setRestTimer(0);setIsTimerRunning(true);}}catch(error){console.error('Error logging set:',error);alert('Failed to log set. Please try again.');}};const markAsDropset=setId=>{setIsDropset(true);setDropsetParentId(setId);};const cancelDropset=()=>{setIsDropset(false);setDropsetParentId(null);};const editSet=set=>{setEditingSetId(set.id);setSelectedExercise(set.exercise_id);setWeight(set.weight.toString());setReps(set.reps.toString());setFeel(set.feel_rating);setRpe(set.rpe?set.rpe.toString():'');setTempo(set.tempo);setIsDropset(set.is_dropset);setDropsetParentId(set.dropset_parent_id);};const deleteSet=async setId=>{if(!window.confirm('Delete this set?'))return;try{await apiCall(\"/sets/\".concat(setId),{method:'DELETE'});setTodaySets(todaySets.filter(s=>s.id!==setId));}catch(error){console.error('Error deleting set:',error);alert('Failed to delete set.');}};const addNewExercise=async()=>{if(!newExerciseName)return;try{const exercise=await apiCall('/exercises',{method:'POST',body:JSON.stringify({name:newExerciseName,muscle_group:newExerciseMuscle})});setExercises([...exercises,exercise]);setSelectedExercise(exercise.id);setShowNewExercise(false);setNewExerciseName('');setNewExerciseMuscle('');}catch(error){console.error('Error adding exercise:',error);alert('Failed to add exercise.');}};const endWorkout=async()=>{setIsTimerRunning(false);try{await apiCall(\"/workouts/\".concat(currentWorkout.id,\"/end\"),{method:'PUT'});setShowSummary(true);}catch(error){console.error('Error ending workout:',error);alert('Failed to end workout.');}};const finishAndReset=()=>{setCurrentWorkout(null);setTodaySets([]);setShowSummary(false);setRestTimer(0);setIsTimerRunning(false);setSelectedExercise('');setWeight('');setReps('');setFeel(7);setRpe('');setTempo('normal');setWorkoutType('');setWorkoutNotes('');setBodyWeight('');};// Loading state\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 text-white flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Dumbbell,{className:\"w-16 h-16 mx-auto mb-4 text-blue-400 animate-pulse\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading...\"})]})});}// Login screen\nif(!isAuthenticated){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full text-center\",children:[/*#__PURE__*/_jsx(Dumbbell,{className:\"w-20 h-20 mx-auto mb-6 text-blue-400\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"Lift Logger\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-8\",children:\"Track your workouts, analyze your progress\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:login,className:\"w-full bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-6 rounded-lg flex items-center justify-center gap-3 transition\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-6 h-6\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"})]}),\"Sign in with Google\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-6\",children:\"Secure authentication powered by Auth0\"})]})});}// Start workout screen\nif(!currentWorkout&&view==='log'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 text-white p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto pt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Lift Logger\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"Welcome, \",user===null||user===void 0?void 0:user.name]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"text-gray-400 hover:text-white\",children:/*#__PURE__*/_jsx(LogOut,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Workout Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:workoutType,onChange:e=>setWorkoutType(e.target.value),className:\"w-full bg-gray-700 rounded px-4 py-3 text-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type...\"}),Object.entries(WORKOUT_TYPES).map(_ref=>{let[id,name]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:id,children:name},id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Body Weight (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",value:bodyWeight,onChange:e=>setBodyWeight(e.target.value),placeholder:\"lbs\",className:\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:workoutNotes,onChange:e=>setWorkoutNotes(e.target.value),placeholder:\"How are you feeling today?\",className:\"w-full bg-gray-700 rounded px-4 py-3 text-lg\",rows:\"3\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:startWorkout,className:\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg text-lg\",children:\"Start Workout\"})]})]})});}// Workout summary screen\nif(showSummary){const exerciseSummary={};todaySets.forEach(set=>{if(!exerciseSummary[set.exercise_name]){exerciseSummary[set.exercise_name]={sets:0,totalVolume:0,topWeight:0,totalReps:0};}exerciseSummary[set.exercise_name].sets+=1;exerciseSummary[set.exercise_name].totalVolume+=set.weight*set.reps;exerciseSummary[set.exercise_name].topWeight=Math.max(exerciseSummary[set.exercise_name].topWeight,set.weight);exerciseSummary[set.exercise_name].totalReps+=set.reps;});const totalVolume=todaySets.reduce((sum,set)=>sum+set.weight*set.reps,0);const workoutDuration=Math.floor((new Date()-new Date(currentWorkout.started_at))/1000/60);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 text-white p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto pt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-10 h-10\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-2\",children:\"Workout Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:WORKOUT_TYPES[currentWorkout.workout_type]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-xl mb-4\",children:\"Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-400\",children:todaySets.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Total Sets\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-400\",children:totalVolume.toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Total Volume (lbs)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-400\",children:workoutDuration}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Minutes\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(exerciseSummary).map(_ref2=>{let[exercise,data]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-2\",children:exercise}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Sets\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:data.sets})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Total Reps\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:data.totalReps})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Top Weight\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[data.topWeight,\" lbs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Volume\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[data.totalVolume.toLocaleString(),\" lbs\"]})]})]})]},exercise);})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:finishAndReset,className:\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg text-lg\",children:\"Done\"})]})});}// Main logging screen\nif(view==='log'){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-900 text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-4 sticky top-0 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-lg\",children:WORKOUT_TYPES[currentWorkout.workout_type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[todaySets.length,\" sets logged\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-gray-700 px-4 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(Timer,{className:\"w-4 h-4 text-blue-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-lg\",children:formatTime(restTimer)})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Exercise\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedExercise,onChange:e=>setSelectedExercise(e.target.value),className:\"w-full bg-gray-700 rounded px-4 py-3 text-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select exercise...\"}),exercises.map(ex=>/*#__PURE__*/_jsx(\"option\",{value:ex.id,children:ex.name},ex.id))]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNewExercise(true),className:\"mt-2 text-blue-400 text-sm flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" Add new exercise\"]})]}),showNewExercise&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-3 rounded space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Exercise name\",value:newExerciseName,onChange:e=>setNewExerciseName(e.target.value),className:\"w-full bg-gray-600 rounded px-3 py-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Muscle group\",value:newExerciseMuscle,onChange:e=>setNewExerciseMuscle(e.target.value),className:\"w-full bg-gray-600 rounded px-3 py-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addNewExercise,className:\"bg-blue-600 px-4 py-2 rounded flex-1\",children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewExercise(false),className:\"bg-gray-600 px-4 py-2 rounded\",children:\"Cancel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"2.5\",value:weight,onChange:e=>setWeight(e.target.value),className:\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Reps\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:reps,onChange:e=>setReps(e.target.value),className:\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium mb-2\",children:[\"How it felt: \",feel,\"/10\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"10\",value:feel,onChange:e=>setFeel(e.target.value),className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"RPE (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"10\",step:\"0.5\",value:rpe,onChange:e=>setRpe(e.target.value),placeholder:\"Rate of Perceived Exertion\",className:\"w-full bg-gray-700 rounded px-4 py-3\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Tempo\"}),/*#__PURE__*/_jsxs(\"select\",{value:tempo,onChange:e=>setTempo(e.target.value),className:\"w-full bg-gray-700 rounded px-4 py-3\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"normal\",children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pause\",children:\"Pause\"}),/*#__PURE__*/_jsx(\"option\",{value:\"touch-and-go\",children:\"Touch & Go\"}),/*#__PURE__*/_jsx(\"option\",{value:\"full-reset\",children:\"Full Reset\"}),/*#__PURE__*/_jsx(\"option\",{value:\"slow-eccentric\",children:\"Slow Eccentric\"})]})]}),isDropset&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-900 bg-opacity-30 border border-orange-600 rounded p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-400 font-medium text-sm\",children:\"Logging as dropset\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelDropset,className:\"text-xs bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded\",children:\"Cancel\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:logSet,className:\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg text-lg\",children:editingSetId?'Update Set':'Log Set'}),editingSetId&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingSetId(null);setWeight('');setReps('');setFeel(7);setRpe('');setTempo('normal');setIsDropset(false);setDropsetParentId(null);},className:\"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-lg\",children:\"Cancel Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-3\",children:\"Today's Sets\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:todaySets.slice().reverse().map(set=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-700 rounded p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:set.exercise_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[set.weight,\" lbs \\xD7 \",set.reps,\" reps\",set.is_dropset&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-orange-400\",children:\"(Dropset)\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Feel: \",set.feel_rating,\"/10\",set.rpe&&\" \\u2022 RPE: \".concat(set.rpe),' • ',set.tempo,\" \\u2022 Rest: \",formatTime(set.rest_time)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 ml-2\",children:[!set.is_dropset&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsDropset(set.id),className:\"text-xs bg-gray-600 hover:bg-orange-600 px-2 py-1 rounded\",children:\"Drop\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editSet(set),className:\"text-xs bg-gray-600 hover:bg-blue-600 px-2 py-1 rounded\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteSet(set.id),className:\"text-xs bg-gray-600 hover:bg-red-600 px-2 py-1 rounded\",children:\"Del\"})]})]})},set.id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:endWorkout,className:\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-lg text-lg\",children:\"End Workout\"})]})]});}return null;}","map":{"version":3,"names":["React","useState","useEffect","Plus","Timer","Dumbbell","CheckCircle","LogOut","jsx","_jsx","jsxs","_jsxs","AUTH0_DOMAIN","AUTH0_CLIENT_ID","API_URL","PRESET_EXERCISES","id","name","muscle_group","WORKOUT_TYPES","LiftLogger","isAuthenticated","setIsAuthenticated","accessToken","setAccessToken","user","setUser","isLoading","setIsLoading","view","exercises","setExercises","currentWorkout","setCurrentWorkout","todaySets","setTodaySets","restTimer","setRestTimer","isTimerRunning","setIsTimerRunning","selectedExercise","setSelectedExercise","weight","setWeight","reps","setReps","feel","setFeel","rpe","setRpe","tempo","setTempo","isDropset","setIsDropset","dropsetParentId","setDropsetParentId","editingSetId","setEditingSetId","showSummary","setShowSummary","bodyWeight","setBodyWeight","workoutType","setWorkoutType","workoutNotes","setWorkoutNotes","showNewExercise","setShowNewExercise","newExerciseName","setNewExerciseName","newExerciseMuscle","setNewExerciseMuscle","token","localStorage","getItem","fetchUser","hash","window","location","params","URLSearchParams","substring","get","setItem","interval","setInterval","prev","clearInterval","response","fetch","concat","headers","ok","data","json","error","console","login","redirectUri","origin","authUrl","encodeURIComponent","href","logout","removeItem","returnTo","apiCall","endpoint","options","arguments","length","undefined","_objectSpread","Error","statusText","formatTime","seconds","mins","Math","floor","secs","toString","padStart","startWorkout","alert","workout","method","body","JSON","stringify","date","Date","toISOString","split","workout_type","parseInt","notes","started_at","parseFloat","logSet","setData","workout_id","exercise_id","set_number","filter","s","is_dropset","feel_rating","rest_time","dropset_parent_id","updatedSet","map","newSet","markAsDropset","setId","cancelDropset","editSet","set","deleteSet","confirm","addNewExercise","exercise","endWorkout","finishAndReset","className","children","onClick","viewBox","fill","d","value","onChange","e","target","Object","entries","_ref","type","step","placeholder","rows","exerciseSummary","forEach","exercise_name","sets","totalVolume","topWeight","totalReps","max","reduce","sum","workoutDuration","toLocaleString","_ref2","ex","min","slice","reverse"],"sources":["C:/Users/danie/Desktop/lift_logger/frontend/src/App.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Plus, Timer, Dumbbell, CheckCircle, LogOut } from 'lucide-react';\r\n\r\n// Auth0 Configuration - Replace these with your actual values\r\nconst AUTH0_DOMAIN = 'dev-eqq8cewauaf67lub.us.auth0.com';\r\nconst AUTH0_CLIENT_ID = 'pbLaDO8NGz3oVQKctDS0O83JkFuuSGFj';\r\nconst API_URL = 'https://liftlogger-api-dragan-dgecbkbfazf7gugc.centralus-01.azurewebsites.net/';\r\n\r\nconst PRESET_EXERCISES = [\r\n  { id: 1, name: 'Squat', muscle_group: 'Legs' },\r\n  { id: 2, name: 'Bench Press', muscle_group: 'Chest' },\r\n  { id: 3, name: 'Deadlift', muscle_group: 'Back' },\r\n  { id: 4, name: 'Overhead Press', muscle_group: 'Shoulders' },\r\n  { id: 5, name: 'Barbell Row', muscle_group: 'Back' },\r\n  { id: 6, name: 'Pull-ups', muscle_group: 'Back' },\r\n  { id: 7, name: 'Dips', muscle_group: 'Chest' },\r\n];\r\n\r\nconst WORKOUT_TYPES = {\r\n  1: 'Legs',\r\n  2: 'Chest',\r\n  3: 'Back',\r\n  4: 'Arms',\r\n  5: 'Shoulders',\r\n  6: 'Full Body'\r\n};\r\n\r\nexport default function LiftLogger() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [accessToken, setAccessToken] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  \r\n  const [view] = useState('log');\r\n  const [exercises, setExercises] = useState(PRESET_EXERCISES);\r\n  const [currentWorkout, setCurrentWorkout] = useState(null);\r\n  const [todaySets, setTodaySets] = useState([]);\r\n  const [restTimer, setRestTimer] = useState(0);\r\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\r\n  \r\n  const [selectedExercise, setSelectedExercise] = useState('');\r\n  const [weight, setWeight] = useState('');\r\n  const [reps, setReps] = useState('');\r\n  const [feel, setFeel] = useState(7);\r\n  const [rpe, setRpe] = useState('');\r\n  const [tempo, setTempo] = useState('normal');\r\n  const [isDropset, setIsDropset] = useState(false);\r\n  const [dropsetParentId, setDropsetParentId] = useState(null);\r\n  const [editingSetId, setEditingSetId] = useState(null);\r\n  const [showSummary, setShowSummary] = useState(false);\r\n  const [bodyWeight, setBodyWeight] = useState('');\r\n  const [workoutType, setWorkoutType] = useState('');\r\n  const [workoutNotes, setWorkoutNotes] = useState('');\r\n  const [showNewExercise, setShowNewExercise] = useState(false);\r\n  const [newExerciseName, setNewExerciseName] = useState('');\r\n  const [newExerciseMuscle, setNewExerciseMuscle] = useState('');\r\n\r\n  // Check for auth token on mount\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('access_token');\r\n    if (token) {\r\n      setAccessToken(token);\r\n      setIsAuthenticated(true);\r\n      fetchUser(token);\r\n    }\r\n    \r\n    // Check for OAuth callback\r\n    const hash = window.location.hash;\r\n    if (hash) {\r\n      const params = new URLSearchParams(hash.substring(1));\r\n      const token = params.get('access_token');\r\n      if (token) {\r\n        localStorage.setItem('access_token', token);\r\n        setAccessToken(token);\r\n        setIsAuthenticated(true);\r\n        fetchUser(token);\r\n        window.location.hash = '';\r\n      }\r\n    }\r\n    \r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  // Timer effect\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isTimerRunning) {\r\n      interval = setInterval(() => {\r\n        setRestTimer(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isTimerRunning]);\r\n\r\n  const fetchUser = async (token) => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/user/me`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUser(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user:', error);\r\n    }\r\n  };\r\n\r\n  const login = () => {\r\n    const redirectUri = window.location.origin;\r\n    const authUrl = `https://${AUTH0_DOMAIN}/authorize?` +\r\n      `response_type=token&` +\r\n      `client_id=${AUTH0_CLIENT_ID}&` +\r\n      `redirect_uri=${encodeURIComponent(redirectUri)}&` +\r\n      `scope=openid profile email&` +\r\n      `audience=https://liftlogger-api&` +\r\n      `connection=google-oauth2`;\r\n    window.location.href = authUrl;\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('access_token');\r\n    setAccessToken(null);\r\n    setIsAuthenticated(false);\r\n    setUser(null);\r\n    setCurrentWorkout(null);\r\n    setTodaySets([]);\r\n    const returnTo = window.location.origin;\r\n    window.location.href = `https://${AUTH0_DOMAIN}/v2/logout?client_id=${AUTH0_CLIENT_ID}&returnTo=${encodeURIComponent(returnTo)}`;\r\n  };\r\n\r\n  const apiCall = async (endpoint, options = {}) => {\r\n    const response = await fetch(`${API_URL}${endpoint}`, {\r\n      ...options,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${accessToken}`,\r\n        ...options.headers,\r\n      },\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`API call failed: ${response.statusText}`);\r\n    }\r\n    \r\n    return response.json();\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const startWorkout = async () => {\r\n    if (!workoutType) {\r\n      alert('Please select a workout type');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const workout = await apiCall('/workouts/start', {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          date: new Date().toISOString().split('T')[0],\r\n          workout_type: parseInt(workoutType),\r\n          notes: workoutNotes\r\n        })\r\n      });\r\n      \r\n      setCurrentWorkout({\r\n        ...workout,\r\n        started_at: new Date()\r\n      });\r\n      \r\n      if (bodyWeight) {\r\n        await apiCall('/bodyweight', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            date: new Date().toISOString().split('T')[0],\r\n            weight: parseFloat(bodyWeight)\r\n          })\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting workout:', error);\r\n      alert('Failed to start workout. Please try again.');\r\n    }\r\n  };\r\n\r\n  const logSet = async () => {\r\n    if (!selectedExercise || !weight || !reps) {\r\n      alert('Please fill in exercise, weight, and reps');\r\n      return;\r\n    }\r\n\r\n    const setData = {\r\n      workout_id: currentWorkout.id,\r\n      exercise_id: parseInt(selectedExercise),\r\n      set_number: todaySets.filter(s => s.exercise_id === selectedExercise && !s.is_dropset).length + 1,\r\n      weight: parseFloat(weight),\r\n      reps: parseInt(reps),\r\n      feel_rating: parseInt(feel),\r\n      rpe: rpe ? parseFloat(rpe) : null,\r\n      tempo: tempo,\r\n      rest_time: restTimer,\r\n      is_dropset: isDropset,\r\n      dropset_parent_id: dropsetParentId,\r\n      notes: ''\r\n    };\r\n\r\n    try {\r\n      if (editingSetId) {\r\n        const updatedSet = await apiCall(`/sets/${editingSetId}`, {\r\n          method: 'PUT',\r\n          body: JSON.stringify(setData)\r\n        });\r\n        setTodaySets(todaySets.map(s => s.id === editingSetId ? updatedSet : s));\r\n        setEditingSetId(null);\r\n      } else {\r\n        const newSet = await apiCall('/sets', {\r\n          method: 'POST',\r\n          body: JSON.stringify(setData)\r\n        });\r\n        setTodaySets([...todaySets, newSet]);\r\n      }\r\n      \r\n      // Reset form\r\n      setWeight('');\r\n      setReps('');\r\n      setFeel(7);\r\n      setRpe('');\r\n      setTempo('normal');\r\n      \r\n      if (isDropset) {\r\n        setIsDropset(false);\r\n        setDropsetParentId(null);\r\n      }\r\n      \r\n      if (!editingSetId) {\r\n        setRestTimer(0);\r\n        setIsTimerRunning(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error logging set:', error);\r\n      alert('Failed to log set. Please try again.');\r\n    }\r\n  };\r\n\r\n  const markAsDropset = (setId) => {\r\n    setIsDropset(true);\r\n    setDropsetParentId(setId);\r\n  };\r\n\r\n  const cancelDropset = () => {\r\n    setIsDropset(false);\r\n    setDropsetParentId(null);\r\n  };\r\n\r\n  const editSet = (set) => {\r\n    setEditingSetId(set.id);\r\n    setSelectedExercise(set.exercise_id);\r\n    setWeight(set.weight.toString());\r\n    setReps(set.reps.toString());\r\n    setFeel(set.feel_rating);\r\n    setRpe(set.rpe ? set.rpe.toString() : '');\r\n    setTempo(set.tempo);\r\n    setIsDropset(set.is_dropset);\r\n    setDropsetParentId(set.dropset_parent_id);\r\n  };\r\n\r\n  const deleteSet = async (setId) => {\r\n    if (!window.confirm('Delete this set?')) return;\r\n    \r\n    try {\r\n      await apiCall(`/sets/${setId}`, { method: 'DELETE' });\r\n      setTodaySets(todaySets.filter(s => s.id !== setId));\r\n    } catch (error) {\r\n      console.error('Error deleting set:', error);\r\n      alert('Failed to delete set.');\r\n    }\r\n  };\r\n\r\n  const addNewExercise = async () => {\r\n    if (!newExerciseName) return;\r\n    \r\n    try {\r\n      const exercise = await apiCall('/exercises', {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          name: newExerciseName,\r\n          muscle_group: newExerciseMuscle\r\n        })\r\n      });\r\n      \r\n      setExercises([...exercises, exercise]);\r\n      setSelectedExercise(exercise.id);\r\n      setShowNewExercise(false);\r\n      setNewExerciseName('');\r\n      setNewExerciseMuscle('');\r\n    } catch (error) {\r\n      console.error('Error adding exercise:', error);\r\n      alert('Failed to add exercise.');\r\n    }\r\n  };\r\n\r\n  const endWorkout = async () => {\r\n    setIsTimerRunning(false);\r\n    \r\n    try {\r\n      await apiCall(`/workouts/${currentWorkout.id}/end`, { method: 'PUT' });\r\n      setShowSummary(true);\r\n    } catch (error) {\r\n      console.error('Error ending workout:', error);\r\n      alert('Failed to end workout.');\r\n    }\r\n  };\r\n\r\n  const finishAndReset = () => {\r\n    setCurrentWorkout(null);\r\n    setTodaySets([]);\r\n    setShowSummary(false);\r\n    setRestTimer(0);\r\n    setIsTimerRunning(false);\r\n    setSelectedExercise('');\r\n    setWeight('');\r\n    setReps('');\r\n    setFeel(7);\r\n    setRpe('');\r\n    setTempo('normal');\r\n    setWorkoutType('');\r\n    setWorkoutNotes('');\r\n    setBodyWeight('');\r\n  };\r\n\r\n  // Loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Dumbbell className=\"w-16 h-16 mx-auto mb-4 text-blue-400 animate-pulse\" />\r\n          <p className=\"text-gray-400\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Login screen\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4\">\r\n        <div className=\"max-w-md w-full text-center\">\r\n          <Dumbbell className=\"w-20 h-20 mx-auto mb-6 text-blue-400\" />\r\n          <h1 className=\"text-4xl font-bold mb-4\">Lift Logger</h1>\r\n          <p className=\"text-gray-400 mb-8\">Track your workouts, analyze your progress</p>\r\n          \r\n          <button\r\n            onClick={login}\r\n            className=\"w-full bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-6 rounded-lg flex items-center justify-center gap-3 transition\"\r\n          >\r\n            <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\">\r\n              <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n              <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n              <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n              <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n            </svg>\r\n            Sign in with Google\r\n          </button>\r\n          \r\n          <p className=\"text-sm text-gray-500 mt-6\">\r\n            Secure authentication powered by Auth0\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Start workout screen\r\n  if (!currentWorkout && view === 'log') {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white p-4\">\r\n        <div className=\"max-w-md mx-auto pt-8\">\r\n          <div className=\"flex justify-between items-center mb-8\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold\">Lift Logger</h1>\r\n              <p className=\"text-gray-400\">Welcome, {user?.name}</p>\r\n            </div>\r\n            <button onClick={logout} className=\"text-gray-400 hover:text-white\">\r\n              <LogOut className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"bg-gray-800 rounded-lg p-6 space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">Workout Type</label>\r\n              <select \r\n                value={workoutType}\r\n                onChange={(e) => setWorkoutType(e.target.value)}\r\n                className=\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"\r\n              >\r\n                <option value=\"\">Select type...</option>\r\n                {Object.entries(WORKOUT_TYPES).map(([id, name]) => (\r\n                  <option key={id} value={id}>{name}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">Body Weight (optional)</label>\r\n              <input\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                value={bodyWeight}\r\n                onChange={(e) => setBodyWeight(e.target.value)}\r\n                placeholder=\"lbs\"\r\n                className=\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">Notes (optional)</label>\r\n              <textarea\r\n                value={workoutNotes}\r\n                onChange={(e) => setWorkoutNotes(e.target.value)}\r\n                placeholder=\"How are you feeling today?\"\r\n                className=\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              onClick={startWorkout}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg text-lg\"\r\n            >\r\n              Start Workout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Workout summary screen\r\n  if (showSummary) {\r\n    const exerciseSummary = {};\r\n    todaySets.forEach(set => {\r\n      if (!exerciseSummary[set.exercise_name]) {\r\n        exerciseSummary[set.exercise_name] = {\r\n          sets: 0,\r\n          totalVolume: 0,\r\n          topWeight: 0,\r\n          totalReps: 0\r\n        };\r\n      }\r\n      exerciseSummary[set.exercise_name].sets += 1;\r\n      exerciseSummary[set.exercise_name].totalVolume += set.weight * set.reps;\r\n      exerciseSummary[set.exercise_name].topWeight = Math.max(exerciseSummary[set.exercise_name].topWeight, set.weight);\r\n      exerciseSummary[set.exercise_name].totalReps += set.reps;\r\n    });\r\n\r\n    const totalVolume = todaySets.reduce((sum, set) => sum + (set.weight * set.reps), 0);\r\n    const workoutDuration = Math.floor((new Date() - new Date(currentWorkout.started_at)) / 1000 / 60);\r\n\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white p-4\">\r\n        <div className=\"max-w-2xl mx-auto pt-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <div className=\"bg-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <CheckCircle className=\"w-10 h-10\" />\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold mb-2\">Workout Complete!</h1>\r\n            <p className=\"text-gray-400\">{WORKOUT_TYPES[currentWorkout.workout_type]}</p>\r\n          </div>\r\n\r\n          <div className=\"bg-gray-800 rounded-lg p-6 mb-6\">\r\n            <h2 className=\"font-bold text-xl mb-4\">Summary</h2>\r\n            <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n              <div className=\"text-center\">\r\n                <p className=\"text-3xl font-bold text-blue-400\">{todaySets.length}</p>\r\n                <p className=\"text-sm text-gray-400\">Total Sets</p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <p className=\"text-3xl font-bold text-blue-400\">{totalVolume.toLocaleString()}</p>\r\n                <p className=\"text-sm text-gray-400\">Total Volume (lbs)</p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <p className=\"text-3xl font-bold text-blue-400\">{workoutDuration}</p>\r\n                <p className=\"text-sm text-gray-400\">Minutes</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              {Object.entries(exerciseSummary).map(([exercise, data]) => (\r\n                <div key={exercise} className=\"bg-gray-700 rounded-lg p-4\">\r\n                  <h3 className=\"font-bold mb-2\">{exercise}</h3>\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <p className=\"text-gray-400\">Sets</p>\r\n                      <p className=\"font-medium\">{data.sets}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-gray-400\">Total Reps</p>\r\n                      <p className=\"font-medium\">{data.totalReps}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-gray-400\">Top Weight</p>\r\n                      <p className=\"font-medium\">{data.topWeight} lbs</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-gray-400\">Volume</p>\r\n                      <p className=\"font-medium\">{data.totalVolume.toLocaleString()} lbs</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={finishAndReset}\r\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg text-lg\"\r\n          >\r\n            Done\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main logging screen\r\n  if (view === 'log') {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white\">\r\n        <div className=\"bg-gray-800 p-4 sticky top-0 z-10\">\r\n          <div className=\"max-w-md mx-auto flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"font-bold text-lg\">{WORKOUT_TYPES[currentWorkout.workout_type]}</h2>\r\n              <p className=\"text-sm text-gray-400\">{todaySets.length} sets logged</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 bg-gray-700 px-4 py-2 rounded-lg\">\r\n              <Timer className=\"w-4 h-4 text-blue-400\" />\r\n              <span className=\"font-mono text-lg\">{formatTime(restTimer)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"max-w-md mx-auto p-4 space-y-4\">\r\n          <div className=\"bg-gray-800 rounded-lg p-4 space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">Exercise</label>\r\n              <select \r\n                value={selectedExercise}\r\n                onChange={(e) => setSelectedExercise(e.target.value)}\r\n                className=\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"\r\n              >\r\n                <option value=\"\">Select exercise...</option>\r\n                {exercises.map(ex => (\r\n                  <option key={ex.id} value={ex.id}>{ex.name}</option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                onClick={() => setShowNewExercise(true)}\r\n                className=\"mt-2 text-blue-400 text-sm flex items-center gap-1\"\r\n              >\r\n                <Plus className=\"w-4 h-4\" /> Add new exercise\r\n              </button>\r\n            </div>\r\n\r\n            {showNewExercise && (\r\n              <div className=\"bg-gray-700 p-3 rounded space-y-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Exercise name\"\r\n                  value={newExerciseName}\r\n                  onChange={(e) => setNewExerciseName(e.target.value)}\r\n                  className=\"w-full bg-gray-600 rounded px-3 py-2\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Muscle group\"\r\n                  value={newExerciseMuscle}\r\n                  onChange={(e) => setNewExerciseMuscle(e.target.value)}\r\n                  className=\"w-full bg-gray-600 rounded px-3 py-2\"\r\n                />\r\n                <div className=\"flex gap-2\">\r\n                  <button onClick={addNewExercise} className=\"bg-blue-600 px-4 py-2 rounded flex-1\">\r\n                    Add\r\n                  </button>\r\n                  <button onClick={() => setShowNewExercise(false)} className=\"bg-gray-600 px-4 py-2 rounded\">\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Weight (lbs)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"2.5\"\r\n                  value={weight}\r\n                  onChange={(e) => setWeight(e.target.value)}\r\n                  className=\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2\">Reps</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={reps}\r\n                  onChange={(e) => setReps(e.target.value)}\r\n                  className=\"w-full bg-gray-700 rounded px-4 py-3 text-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">How it felt: {feel}/10</label>\r\n              <input\r\n                type=\"range\"\r\n                min=\"0\"\r\n                max=\"10\"\r\n                value={feel}\r\n                onChange={(e) => setFeel(e.target.value)}\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">RPE (optional)</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"10\"\r\n                step=\"0.5\"\r\n                value={rpe}\r\n                onChange={(e) => setRpe(e.target.value)}\r\n                placeholder=\"Rate of Perceived Exertion\"\r\n                className=\"w-full bg-gray-700 rounded px-4 py-3\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">Tempo</label>\r\n              <select \r\n                value={tempo}\r\n                onChange={(e) => setTempo(e.target.value)}\r\n                className=\"w-full bg-gray-700 rounded px-4 py-3\"\r\n              >\r\n                <option value=\"normal\">Normal</option>\r\n                <option value=\"pause\">Pause</option>\r\n                <option value=\"touch-and-go\">Touch & Go</option>\r\n                <option value=\"full-reset\">Full Reset</option>\r\n                <option value=\"slow-eccentric\">Slow Eccentric</option>\r\n              </select>\r\n            </div>\r\n\r\n            {isDropset && (\r\n              <div className=\"bg-orange-900 bg-opacity-30 border border-orange-600 rounded p-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <p className=\"text-orange-400 font-medium text-sm\">Logging as dropset</p>\r\n                  <button\r\n                    onClick={cancelDropset}\r\n                    className=\"text-xs bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              onClick={logSet}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-lg text-lg\"\r\n            >\r\n              {editingSetId ? 'Update Set' : 'Log Set'}\r\n            </button>\r\n            {editingSetId && (\r\n              <button\r\n                onClick={() => {\r\n                  setEditingSetId(null);\r\n                  setWeight('');\r\n                  setReps('');\r\n                  setFeel(7);\r\n                  setRpe('');\r\n                  setTempo('normal');\r\n                  setIsDropset(false);\r\n                  setDropsetParentId(null);\r\n                }}\r\n                className=\"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-lg\"\r\n              >\r\n                Cancel Edit\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"bg-gray-800 rounded-lg p-4\">\r\n            <h3 className=\"font-bold mb-3\">Today's Sets</h3>\r\n            <div className=\"space-y-2\">\r\n              {todaySets.slice().reverse().map((set) => (\r\n                <div key={set.id} className=\"bg-gray-700 rounded p-3\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"font-medium\">{set.exercise_name}</p>\r\n                      <p className=\"text-sm text-gray-400\">\r\n                        {set.weight} lbs × {set.reps} reps\r\n                        {set.is_dropset && <span className=\"ml-2 text-orange-400\">(Dropset)</span>}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        Feel: {set.feel_rating}/10\r\n                        {set.rpe && ` • RPE: ${set.rpe}`}\r\n                        {' • '}{set.tempo} • Rest: {formatTime(set.rest_time)}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex gap-1 ml-2\">\r\n                      {!set.is_dropset && (\r\n                        <button\r\n                          onClick={() => markAsDropset(set.id)}\r\n                          className=\"text-xs bg-gray-600 hover:bg-orange-600 px-2 py-1 rounded\"\r\n                        >\r\n                          Drop\r\n                        </button>\r\n                      )}\r\n                      <button\r\n                        onClick={() => editSet(set)}\r\n                        className=\"text-xs bg-gray-600 hover:bg-blue-600 px-2 py-1 rounded\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                      <button\r\n                        onClick={() => deleteSet(set.id)}\r\n                        className=\"text-xs bg-gray-600 hover:bg-red-600 px-2 py-1 rounded\"\r\n                      >\r\n                        Del\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={endWorkout}\r\n            className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-lg text-lg\"\r\n          >\r\n            End Workout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}"],"mappings":"gIACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,MAAM,KAAQ,cAAc,CAEzE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,YAAY,CAAG,mCAAmC,CACxD,KAAM,CAAAC,eAAe,CAAG,kCAAkC,CAC1D,KAAM,CAAAC,OAAO,CAAG,gFAAgF,CAEhG,KAAM,CAAAC,gBAAgB,CAAG,CACvB,CAAEC,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,OAAO,CAAEC,YAAY,CAAE,MAAO,CAAC,CAC9C,CAAEF,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,aAAa,CAAEC,YAAY,CAAE,OAAQ,CAAC,CACrD,CAAEF,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,UAAU,CAAEC,YAAY,CAAE,MAAO,CAAC,CACjD,CAAEF,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,gBAAgB,CAAEC,YAAY,CAAE,WAAY,CAAC,CAC5D,CAAEF,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,aAAa,CAAEC,YAAY,CAAE,MAAO,CAAC,CACpD,CAAEF,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,UAAU,CAAEC,YAAY,CAAE,MAAO,CAAC,CACjD,CAAEF,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,MAAM,CAAEC,YAAY,CAAE,OAAQ,CAAC,CAC/C,CAED,KAAM,CAAAC,aAAa,CAAG,CACpB,CAAC,CAAE,MAAM,CACT,CAAC,CAAE,OAAO,CACV,CAAC,CAAE,MAAM,CACT,CAAC,CAAE,MAAM,CACT,CAAC,CAAE,WAAW,CACd,CAAC,CAAE,WACL,CAAC,CAED,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACsB,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACwB,IAAI,CAAEC,OAAO,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAC0B,SAAS,CAAEC,YAAY,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CAEhD,KAAM,CAAC4B,IAAI,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAC9B,KAAM,CAAC6B,SAAS,CAAEC,YAAY,CAAC,CAAG9B,QAAQ,CAACc,gBAAgB,CAAC,CAC5D,KAAM,CAACiB,cAAc,CAAEC,iBAAiB,CAAC,CAAGhC,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACiC,SAAS,CAAEC,YAAY,CAAC,CAAGlC,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACmC,SAAS,CAAEC,YAAY,CAAC,CAAGpC,QAAQ,CAAC,CAAC,CAAC,CAC7C,KAAM,CAACqC,cAAc,CAAEC,iBAAiB,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CAE3D,KAAM,CAACuC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACyC,MAAM,CAAEC,SAAS,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC2C,IAAI,CAAEC,OAAO,CAAC,CAAG5C,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAC6C,IAAI,CAAEC,OAAO,CAAC,CAAG9C,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAAC+C,GAAG,CAAEC,MAAM,CAAC,CAAGhD,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACiD,KAAK,CAAEC,QAAQ,CAAC,CAAGlD,QAAQ,CAAC,QAAQ,CAAC,CAC5C,KAAM,CAACmD,SAAS,CAAEC,YAAY,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACqD,eAAe,CAAEC,kBAAkB,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACuD,YAAY,CAAEC,eAAe,CAAC,CAAGxD,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACyD,WAAW,CAAEC,cAAc,CAAC,CAAG1D,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC2D,UAAU,CAAEC,aAAa,CAAC,CAAG5D,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6D,WAAW,CAAEC,cAAc,CAAC,CAAG9D,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC+D,YAAY,CAAEC,eAAe,CAAC,CAAGhE,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACiE,eAAe,CAAEC,kBAAkB,CAAC,CAAGlE,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACmE,eAAe,CAAEC,kBAAkB,CAAC,CAAGpE,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACqE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGtE,QAAQ,CAAC,EAAE,CAAC,CAE9D;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAClD,GAAIF,KAAK,CAAE,CACThD,cAAc,CAACgD,KAAK,CAAC,CACrBlD,kBAAkB,CAAC,IAAI,CAAC,CACxBqD,SAAS,CAACH,KAAK,CAAC,CAClB,CAEA;AACA,KAAM,CAAAI,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CACjC,GAAIA,IAAI,CAAE,CACR,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAC,eAAe,CAACJ,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,CAAC,CACrD,KAAM,CAAAT,KAAK,CAAGO,MAAM,CAACG,GAAG,CAAC,cAAc,CAAC,CACxC,GAAIV,KAAK,CAAE,CACTC,YAAY,CAACU,OAAO,CAAC,cAAc,CAAEX,KAAK,CAAC,CAC3ChD,cAAc,CAACgD,KAAK,CAAC,CACrBlD,kBAAkB,CAAC,IAAI,CAAC,CACxBqD,SAAS,CAACH,KAAK,CAAC,CAChBK,MAAM,CAACC,QAAQ,CAACF,IAAI,CAAG,EAAE,CAC3B,CACF,CAEAhD,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA1B,SAAS,CAAC,IAAM,CACd,GAAI,CAAAkF,QAAQ,CACZ,GAAI9C,cAAc,CAAE,CAClB8C,QAAQ,CAAGC,WAAW,CAAC,IAAM,CAC3BhD,YAAY,CAACiD,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAC,CAChC,CAAC,CAAE,IAAI,CAAC,CACV,CACA,MAAO,IAAMC,aAAa,CAACH,QAAQ,CAAC,CACtC,CAAC,CAAE,CAAC9C,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAqC,SAAS,CAAG,KAAO,CAAAH,KAAK,EAAK,CACjC,GAAI,CACF,KAAM,CAAAgB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAI5E,OAAO,aAAY,CACjD6E,OAAO,CAAE,CACP,eAAe,WAAAD,MAAA,CAAYlB,KAAK,CAClC,CACF,CAAC,CAAC,CACF,GAAIgB,QAAQ,CAACI,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCpE,OAAO,CAACmE,IAAI,CAAC,CACf,CACF,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAE,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAAC,WAAW,CAAGrB,MAAM,CAACC,QAAQ,CAACqB,MAAM,CAC1C,KAAM,CAAAC,OAAO,CAAG,WAAAV,MAAA,CAAW9E,YAAY,sCACf,cAAA8E,MAAA,CACT7E,eAAe,KAAG,iBAAA6E,MAAA,CACfW,kBAAkB,CAACH,WAAW,CAAC,KAAG,8BACrB,mCACK,2BACR,CAC5BrB,MAAM,CAACC,QAAQ,CAACwB,IAAI,CAAGF,OAAO,CAChC,CAAC,CAED,KAAM,CAAAG,MAAM,CAAGA,CAAA,GAAM,CACnB9B,YAAY,CAAC+B,UAAU,CAAC,cAAc,CAAC,CACvChF,cAAc,CAAC,IAAI,CAAC,CACpBF,kBAAkB,CAAC,KAAK,CAAC,CACzBI,OAAO,CAAC,IAAI,CAAC,CACbO,iBAAiB,CAAC,IAAI,CAAC,CACvBE,YAAY,CAAC,EAAE,CAAC,CAChB,KAAM,CAAAsE,QAAQ,CAAG5B,MAAM,CAACC,QAAQ,CAACqB,MAAM,CACvCtB,MAAM,CAACC,QAAQ,CAACwB,IAAI,YAAAZ,MAAA,CAAc9E,YAAY,0BAAA8E,MAAA,CAAwB7E,eAAe,eAAA6E,MAAA,CAAaW,kBAAkB,CAACI,QAAQ,CAAC,CAAE,CAClI,CAAC,CAED,KAAM,CAAAC,OAAO,CAAG,cAAAA,CAAOC,QAAQ,CAAmB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC3C,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAI5E,OAAO,EAAA4E,MAAA,CAAGiB,QAAQ,EAAAK,aAAA,CAAAA,aAAA,IAC7CJ,OAAO,MACVjB,OAAO,CAAAqB,aAAA,EACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAtB,MAAA,CAAYnE,WAAW,CAAE,EACrCqF,OAAO,CAACjB,OAAO,CACnB,EACF,CAAC,CAEF,GAAI,CAACH,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAqB,KAAK,qBAAAvB,MAAA,CAAqBF,QAAQ,CAAC0B,UAAU,CAAE,CAAC,CAC5D,CAEA,MAAO,CAAA1B,QAAQ,CAACM,IAAI,CAAC,CAAC,CACxB,CAAC,CAED,KAAM,CAAAqB,UAAU,CAAIC,OAAO,EAAK,CAC9B,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,CAAG,EAAE,CAAC,CACrC,KAAM,CAAAI,IAAI,CAAGJ,OAAO,CAAG,EAAE,CACzB,SAAA1B,MAAA,CAAU2B,IAAI,MAAA3B,MAAA,CAAI8B,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EACpD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAAC7D,WAAW,CAAE,CAChB8D,KAAK,CAAC,8BAA8B,CAAC,CACrC,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAnB,OAAO,CAAC,iBAAiB,CAAE,CAC/CoB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5CC,YAAY,CAAEC,QAAQ,CAACzE,WAAW,CAAC,CACnC0E,KAAK,CAAExE,YACT,CAAC,CACH,CAAC,CAAC,CAEF/B,iBAAiB,CAAA+E,aAAA,CAAAA,aAAA,IACZa,OAAO,MACVY,UAAU,CAAE,GAAI,CAAAN,IAAI,CAAC,CAAC,EACvB,CAAC,CAEF,GAAIvE,UAAU,CAAE,CACd,KAAM,CAAA8C,OAAO,CAAC,aAAa,CAAE,CAC3BoB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5C3F,MAAM,CAAEgG,UAAU,CAAC9E,UAAU,CAC/B,CAAC,CACH,CAAC,CAAC,CACJ,CACF,CAAE,MAAOmC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C6B,KAAK,CAAC,4CAA4C,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAe,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CAACnG,gBAAgB,EAAI,CAACE,MAAM,EAAI,CAACE,IAAI,CAAE,CACzCgF,KAAK,CAAC,2CAA2C,CAAC,CAClD,OACF,CAEA,KAAM,CAAAgB,OAAO,CAAG,CACdC,UAAU,CAAE7G,cAAc,CAAChB,EAAE,CAC7B8H,WAAW,CAAEP,QAAQ,CAAC/F,gBAAgB,CAAC,CACvCuG,UAAU,CAAE7G,SAAS,CAAC8G,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACH,WAAW,GAAKtG,gBAAgB,EAAI,CAACyG,CAAC,CAACC,UAAU,CAAC,CAACpC,MAAM,CAAG,CAAC,CACjGpE,MAAM,CAAEgG,UAAU,CAAChG,MAAM,CAAC,CAC1BE,IAAI,CAAE2F,QAAQ,CAAC3F,IAAI,CAAC,CACpBuG,WAAW,CAAEZ,QAAQ,CAACzF,IAAI,CAAC,CAC3BE,GAAG,CAAEA,GAAG,CAAG0F,UAAU,CAAC1F,GAAG,CAAC,CAAG,IAAI,CACjCE,KAAK,CAAEA,KAAK,CACZkG,SAAS,CAAEhH,SAAS,CACpB8G,UAAU,CAAE9F,SAAS,CACrBiG,iBAAiB,CAAE/F,eAAe,CAClCkF,KAAK,CAAE,EACT,CAAC,CAED,GAAI,CACF,GAAIhF,YAAY,CAAE,CAChB,KAAM,CAAA8F,UAAU,CAAG,KAAM,CAAA5C,OAAO,UAAAhB,MAAA,CAAUlC,YAAY,EAAI,CACxDsE,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACW,OAAO,CAC9B,CAAC,CAAC,CACFzG,YAAY,CAACD,SAAS,CAACqH,GAAG,CAACN,CAAC,EAAIA,CAAC,CAACjI,EAAE,GAAKwC,YAAY,CAAG8F,UAAU,CAAGL,CAAC,CAAC,CAAC,CACxExF,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,IAAM,CACL,KAAM,CAAA+F,MAAM,CAAG,KAAM,CAAA9C,OAAO,CAAC,OAAO,CAAE,CACpCoB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACW,OAAO,CAC9B,CAAC,CAAC,CACFzG,YAAY,CAAC,CAAC,GAAGD,SAAS,CAAEsH,MAAM,CAAC,CAAC,CACtC,CAEA;AACA7G,SAAS,CAAC,EAAE,CAAC,CACbE,OAAO,CAAC,EAAE,CAAC,CACXE,OAAO,CAAC,CAAC,CAAC,CACVE,MAAM,CAAC,EAAE,CAAC,CACVE,QAAQ,CAAC,QAAQ,CAAC,CAElB,GAAIC,SAAS,CAAE,CACbC,YAAY,CAAC,KAAK,CAAC,CACnBE,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAEA,GAAI,CAACC,YAAY,CAAE,CACjBnB,YAAY,CAAC,CAAC,CAAC,CACfE,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAE,MAAOwD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1C6B,KAAK,CAAC,sCAAsC,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAA6B,aAAa,CAAIC,KAAK,EAAK,CAC/BrG,YAAY,CAAC,IAAI,CAAC,CAClBE,kBAAkB,CAACmG,KAAK,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1BtG,YAAY,CAAC,KAAK,CAAC,CACnBE,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAqG,OAAO,CAAIC,GAAG,EAAK,CACvBpG,eAAe,CAACoG,GAAG,CAAC7I,EAAE,CAAC,CACvByB,mBAAmB,CAACoH,GAAG,CAACf,WAAW,CAAC,CACpCnG,SAAS,CAACkH,GAAG,CAACnH,MAAM,CAAC+E,QAAQ,CAAC,CAAC,CAAC,CAChC5E,OAAO,CAACgH,GAAG,CAACjH,IAAI,CAAC6E,QAAQ,CAAC,CAAC,CAAC,CAC5B1E,OAAO,CAAC8G,GAAG,CAACV,WAAW,CAAC,CACxBlG,MAAM,CAAC4G,GAAG,CAAC7G,GAAG,CAAG6G,GAAG,CAAC7G,GAAG,CAACyE,QAAQ,CAAC,CAAC,CAAG,EAAE,CAAC,CACzCtE,QAAQ,CAAC0G,GAAG,CAAC3G,KAAK,CAAC,CACnBG,YAAY,CAACwG,GAAG,CAACX,UAAU,CAAC,CAC5B3F,kBAAkB,CAACsG,GAAG,CAACR,iBAAiB,CAAC,CAC3C,CAAC,CAED,KAAM,CAAAS,SAAS,CAAG,KAAO,CAAAJ,KAAK,EAAK,CACjC,GAAI,CAAC7E,MAAM,CAACkF,OAAO,CAAC,kBAAkB,CAAC,CAAE,OAEzC,GAAI,CACF,KAAM,CAAArD,OAAO,UAAAhB,MAAA,CAAUgE,KAAK,EAAI,CAAE5B,MAAM,CAAE,QAAS,CAAC,CAAC,CACrD3F,YAAY,CAACD,SAAS,CAAC8G,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACjI,EAAE,GAAK0I,KAAK,CAAC,CAAC,CACrD,CAAE,MAAO3D,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3C6B,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAoC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAAC5F,eAAe,CAAE,OAEtB,GAAI,CACF,KAAM,CAAA6F,QAAQ,CAAG,KAAM,CAAAvD,OAAO,CAAC,YAAY,CAAE,CAC3CoB,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBhH,IAAI,CAAEmD,eAAe,CACrBlD,YAAY,CAAEoD,iBAChB,CAAC,CACH,CAAC,CAAC,CAEFvC,YAAY,CAAC,CAAC,GAAGD,SAAS,CAAEmI,QAAQ,CAAC,CAAC,CACtCxH,mBAAmB,CAACwH,QAAQ,CAACjJ,EAAE,CAAC,CAChCmD,kBAAkB,CAAC,KAAK,CAAC,CACzBE,kBAAkB,CAAC,EAAE,CAAC,CACtBE,oBAAoB,CAAC,EAAE,CAAC,CAC1B,CAAE,MAAOwB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C6B,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,CAED,KAAM,CAAAsC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B3H,iBAAiB,CAAC,KAAK,CAAC,CAExB,GAAI,CACF,KAAM,CAAAmE,OAAO,cAAAhB,MAAA,CAAc1D,cAAc,CAAChB,EAAE,SAAQ,CAAE8G,MAAM,CAAE,KAAM,CAAC,CAAC,CACtEnE,cAAc,CAAC,IAAI,CAAC,CACtB,CAAE,MAAOoC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C6B,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAuC,cAAc,CAAGA,CAAA,GAAM,CAC3BlI,iBAAiB,CAAC,IAAI,CAAC,CACvBE,YAAY,CAAC,EAAE,CAAC,CAChBwB,cAAc,CAAC,KAAK,CAAC,CACrBtB,YAAY,CAAC,CAAC,CAAC,CACfE,iBAAiB,CAAC,KAAK,CAAC,CACxBE,mBAAmB,CAAC,EAAE,CAAC,CACvBE,SAAS,CAAC,EAAE,CAAC,CACbE,OAAO,CAAC,EAAE,CAAC,CACXE,OAAO,CAAC,CAAC,CAAC,CACVE,MAAM,CAAC,EAAE,CAAC,CACVE,QAAQ,CAAC,QAAQ,CAAC,CAClBY,cAAc,CAAC,EAAE,CAAC,CAClBE,eAAe,CAAC,EAAE,CAAC,CACnBJ,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,CAED;AACA,GAAIlC,SAAS,CAAE,CACb,mBACElB,IAAA,QAAK2J,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnF1J,KAAA,QAAKyJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5J,IAAA,CAACJ,QAAQ,EAAC+J,SAAS,CAAC,oDAAoD,CAAE,CAAC,cAC3E3J,IAAA,MAAG2J,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,EACxC,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI,CAAChJ,eAAe,CAAE,CACpB,mBACEZ,IAAA,QAAK2J,SAAS,CAAC,0EAA0E,CAAAC,QAAA,cACvF1J,KAAA,QAAKyJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C5J,IAAA,CAACJ,QAAQ,EAAC+J,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC7D3J,IAAA,OAAI2J,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACxD5J,IAAA,MAAG2J,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,4CAA0C,CAAG,CAAC,cAEhF1J,KAAA,WACE2J,OAAO,CAAErE,KAAM,CACfmE,SAAS,CAAC,kIAAkI,CAAAC,QAAA,eAE5I1J,KAAA,QAAKyJ,SAAS,CAAC,SAAS,CAACG,OAAO,CAAC,WAAW,CAAAF,QAAA,eAC1C5J,IAAA,SAAM+J,IAAI,CAAC,SAAS,CAACC,CAAC,CAAC,yHAAyH,CAAC,CAAC,cAClJhK,IAAA,SAAM+J,IAAI,CAAC,SAAS,CAACC,CAAC,CAAC,uIAAuI,CAAC,CAAC,cAChKhK,IAAA,SAAM+J,IAAI,CAAC,SAAS,CAACC,CAAC,CAAC,+HAA+H,CAAC,CAAC,cACxJhK,IAAA,SAAM+J,IAAI,CAAC,SAAS,CAACC,CAAC,CAAC,qIAAqI,CAAC,CAAC,EAC3J,CAAC,sBAER,EAAQ,CAAC,cAEThK,IAAA,MAAG2J,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,wCAE1C,CAAG,CAAC,EACD,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI,CAACrI,cAAc,EAAIH,IAAI,GAAK,KAAK,CAAE,CACrC,mBACEpB,IAAA,QAAK2J,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACtD1J,KAAA,QAAKyJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1J,KAAA,QAAKyJ,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1J,KAAA,QAAA0J,QAAA,eACE5J,IAAA,OAAI2J,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACnD1J,KAAA,MAAGyJ,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,WAAS,CAAC5I,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAER,IAAI,EAAI,CAAC,EACnD,CAAC,cACNR,IAAA,WAAQ6J,OAAO,CAAE/D,MAAO,CAAC6D,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cACjE5J,IAAA,CAACF,MAAM,EAAC6J,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,EACN,CAAC,cAENzJ,KAAA,QAAKyJ,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnD1J,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACtE1J,KAAA,WACE+J,KAAK,CAAE5G,WAAY,CACnB6G,QAAQ,CAAGC,CAAC,EAAK7G,cAAc,CAAC6G,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDN,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAExD5J,IAAA,WAAQiK,KAAK,CAAC,EAAE,CAAAL,QAAA,CAAC,gBAAc,CAAQ,CAAC,CACvCS,MAAM,CAACC,OAAO,CAAC5J,aAAa,CAAC,CAACoI,GAAG,CAACyB,IAAA,MAAC,CAAChK,EAAE,CAAEC,IAAI,CAAC,CAAA+J,IAAA,oBAC5CvK,IAAA,WAAiBiK,KAAK,CAAE1J,EAAG,CAAAqJ,QAAA,CAAEpJ,IAAI,EAApBD,EAA6B,CAAC,EAC5C,CAAC,EACI,CAAC,EACN,CAAC,cAENL,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,wBAAsB,CAAO,CAAC,cAChF5J,IAAA,UACEwK,IAAI,CAAC,QAAQ,CACbC,IAAI,CAAC,KAAK,CACVR,KAAK,CAAE9G,UAAW,CAClB+G,QAAQ,CAAGC,CAAC,EAAK/G,aAAa,CAAC+G,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CS,WAAW,CAAC,KAAK,CACjBf,SAAS,CAAC,8CAA8C,CACzD,CAAC,EACC,CAAC,cAENzJ,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC1E5J,IAAA,aACEiK,KAAK,CAAE1G,YAAa,CACpB2G,QAAQ,CAAGC,CAAC,EAAK3G,eAAe,CAAC2G,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACjDS,WAAW,CAAC,4BAA4B,CACxCf,SAAS,CAAC,8CAA8C,CACxDgB,IAAI,CAAC,GAAG,CACT,CAAC,EACC,CAAC,cAEN3K,IAAA,WACE6J,OAAO,CAAE3C,YAAa,CACtByC,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAC9F,eAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI3G,WAAW,CAAE,CACf,KAAM,CAAA2H,eAAe,CAAG,CAAC,CAAC,CAC1BnJ,SAAS,CAACoJ,OAAO,CAACzB,GAAG,EAAI,CACvB,GAAI,CAACwB,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAAE,CACvCF,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAAG,CACnCC,IAAI,CAAE,CAAC,CACPC,WAAW,CAAE,CAAC,CACdC,SAAS,CAAE,CAAC,CACZC,SAAS,CAAE,CACb,CAAC,CACH,CACAN,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAACC,IAAI,EAAI,CAAC,CAC5CH,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAACE,WAAW,EAAI5B,GAAG,CAACnH,MAAM,CAAGmH,GAAG,CAACjH,IAAI,CACvEyI,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAACG,SAAS,CAAGpE,IAAI,CAACsE,GAAG,CAACP,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAACG,SAAS,CAAE7B,GAAG,CAACnH,MAAM,CAAC,CACjH2I,eAAe,CAACxB,GAAG,CAAC0B,aAAa,CAAC,CAACI,SAAS,EAAI9B,GAAG,CAACjH,IAAI,CAC1D,CAAC,CAAC,CAEF,KAAM,CAAA6I,WAAW,CAAGvJ,SAAS,CAAC2J,MAAM,CAAC,CAACC,GAAG,CAAEjC,GAAG,GAAKiC,GAAG,CAAIjC,GAAG,CAACnH,MAAM,CAAGmH,GAAG,CAACjH,IAAK,CAAE,CAAC,CAAC,CACpF,KAAM,CAAAmJ,eAAe,CAAGzE,IAAI,CAACC,KAAK,CAAC,CAAC,GAAI,CAAAY,IAAI,CAAC,CAAC,CAAG,GAAI,CAAAA,IAAI,CAACnG,cAAc,CAACyG,UAAU,CAAC,EAAI,IAAI,CAAG,EAAE,CAAC,CAElG,mBACEhI,IAAA,QAAK2J,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACtD1J,KAAA,QAAKyJ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC1J,KAAA,QAAKyJ,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B5J,IAAA,QAAK2J,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAChG5J,IAAA,CAACH,WAAW,EAAC8J,SAAS,CAAC,WAAW,CAAE,CAAC,CAClC,CAAC,cACN3J,IAAA,OAAI2J,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAC9D5J,IAAA,MAAG2J,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAElJ,aAAa,CAACa,cAAc,CAACsG,YAAY,CAAC,CAAI,CAAC,EAC1E,CAAC,cAEN3H,KAAA,QAAKyJ,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C5J,IAAA,OAAI2J,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACnD1J,KAAA,QAAKyJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1J,KAAA,QAAKyJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5J,IAAA,MAAG2J,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEnI,SAAS,CAAC4E,MAAM,CAAI,CAAC,cACtErG,IAAA,MAAG2J,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,EAChD,CAAC,cACN1J,KAAA,QAAKyJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5J,IAAA,MAAG2J,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEoB,WAAW,CAACO,cAAc,CAAC,CAAC,CAAI,CAAC,cAClFvL,IAAA,MAAG2J,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,EACxD,CAAC,cACN1J,KAAA,QAAKyJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5J,IAAA,MAAG2J,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAE0B,eAAe,CAAI,CAAC,cACrEtL,IAAA,MAAG2J,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,SAAO,CAAG,CAAC,EAC7C,CAAC,EACH,CAAC,cAEN5J,IAAA,QAAK2J,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBS,MAAM,CAACC,OAAO,CAACM,eAAe,CAAC,CAAC9B,GAAG,CAAC0C,KAAA,MAAC,CAAChC,QAAQ,CAAEpE,IAAI,CAAC,CAAAoG,KAAA,oBACpDtL,KAAA,QAAoByJ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACxD5J,IAAA,OAAI2J,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEJ,QAAQ,CAAK,CAAC,cAC9CtJ,KAAA,QAAKyJ,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C1J,KAAA,QAAA0J,QAAA,eACE5J,IAAA,MAAG2J,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAG,CAAC,cACrC5J,IAAA,MAAG2J,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAExE,IAAI,CAAC2F,IAAI,CAAI,CAAC,EACvC,CAAC,cACN7K,KAAA,QAAA0J,QAAA,eACE5J,IAAA,MAAG2J,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAC3C5J,IAAA,MAAG2J,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAExE,IAAI,CAAC8F,SAAS,CAAI,CAAC,EAC5C,CAAC,cACNhL,KAAA,QAAA0J,QAAA,eACE5J,IAAA,MAAG2J,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAC3C1J,KAAA,MAAGyJ,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAExE,IAAI,CAAC6F,SAAS,CAAC,MAAI,EAAG,CAAC,EAChD,CAAC,cACN/K,KAAA,QAAA0J,QAAA,eACE5J,IAAA,MAAG2J,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAG,CAAC,cACvC1J,KAAA,MAAGyJ,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAExE,IAAI,CAAC4F,WAAW,CAACO,cAAc,CAAC,CAAC,CAAC,MAAI,EAAG,CAAC,EACnE,CAAC,EACH,CAAC,GAnBE/B,QAoBL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAENxJ,IAAA,WACE6J,OAAO,CAAEH,cAAe,CACxBC,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAC9F,MAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAIxI,IAAI,GAAK,KAAK,CAAE,CAClB,mBACElB,KAAA,QAAKyJ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClD5J,IAAA,QAAK2J,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChD1J,KAAA,QAAKyJ,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjE1J,KAAA,QAAA0J,QAAA,eACE5J,IAAA,OAAI2J,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElJ,aAAa,CAACa,cAAc,CAACsG,YAAY,CAAC,CAAK,CAAC,cACnF3H,KAAA,MAAGyJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAEnI,SAAS,CAAC4E,MAAM,CAAC,cAAY,EAAG,CAAC,EACpE,CAAC,cACNnG,KAAA,QAAKyJ,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvE5J,IAAA,CAACL,KAAK,EAACgK,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC3C3J,IAAA,SAAM2J,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElD,UAAU,CAAC/E,SAAS,CAAC,CAAO,CAAC,EAC/D,CAAC,EACH,CAAC,CACH,CAAC,cAENzB,KAAA,QAAKyJ,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C1J,KAAA,QAAKyJ,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnD1J,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAClE1J,KAAA,WACE+J,KAAK,CAAElI,gBAAiB,CACxBmI,QAAQ,CAAGC,CAAC,EAAKnI,mBAAmB,CAACmI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrDN,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAExD5J,IAAA,WAAQiK,KAAK,CAAC,EAAE,CAAAL,QAAA,CAAC,oBAAkB,CAAQ,CAAC,CAC3CvI,SAAS,CAACyH,GAAG,CAAC2C,EAAE,eACfzL,IAAA,WAAoBiK,KAAK,CAAEwB,EAAE,CAAClL,EAAG,CAAAqJ,QAAA,CAAE6B,EAAE,CAACjL,IAAI,EAA7BiL,EAAE,CAAClL,EAAmC,CACpD,CAAC,EACI,CAAC,cACTL,KAAA,WACE2J,OAAO,CAAEA,CAAA,GAAMnG,kBAAkB,CAAC,IAAI,CAAE,CACxCiG,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAE9D5J,IAAA,CAACN,IAAI,EAACiK,SAAS,CAAC,SAAS,CAAE,CAAC,oBAC9B,EAAQ,CAAC,EACN,CAAC,CAELlG,eAAe,eACdvD,KAAA,QAAKyJ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD5J,IAAA,UACEwK,IAAI,CAAC,MAAM,CACXE,WAAW,CAAC,eAAe,CAC3BT,KAAK,CAAEtG,eAAgB,CACvBuG,QAAQ,CAAGC,CAAC,EAAKvG,kBAAkB,CAACuG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACpDN,SAAS,CAAC,sCAAsC,CACjD,CAAC,cACF3J,IAAA,UACEwK,IAAI,CAAC,MAAM,CACXE,WAAW,CAAC,cAAc,CAC1BT,KAAK,CAAEpG,iBAAkB,CACzBqG,QAAQ,CAAGC,CAAC,EAAKrG,oBAAoB,CAACqG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACtDN,SAAS,CAAC,sCAAsC,CACjD,CAAC,cACFzJ,KAAA,QAAKyJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5J,IAAA,WAAQ6J,OAAO,CAAEN,cAAe,CAACI,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,KAElF,CAAQ,CAAC,cACT5J,IAAA,WAAQ6J,OAAO,CAAEA,CAAA,GAAMnG,kBAAkB,CAAC,KAAK,CAAE,CAACiG,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,QAE5F,CAAQ,CAAC,EACN,CAAC,EACH,CACN,cAED1J,KAAA,QAAKyJ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC1J,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACtE5J,IAAA,UACEwK,IAAI,CAAC,QAAQ,CACbC,IAAI,CAAC,KAAK,CACVR,KAAK,CAAEhI,MAAO,CACdiI,QAAQ,CAAGC,CAAC,EAAKjI,SAAS,CAACiI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CN,SAAS,CAAC,8CAA8C,CACzD,CAAC,EACC,CAAC,cACNzJ,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cAC9D5J,IAAA,UACEwK,IAAI,CAAC,QAAQ,CACbP,KAAK,CAAE9H,IAAK,CACZ+H,QAAQ,CAAGC,CAAC,EAAK/H,OAAO,CAAC+H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCN,SAAS,CAAC,8CAA8C,CACzD,CAAC,EACC,CAAC,EACH,CAAC,cAENzJ,KAAA,QAAA0J,QAAA,eACE1J,KAAA,UAAOyJ,SAAS,CAAC,gCAAgC,CAAAC,QAAA,EAAC,eAAa,CAACvH,IAAI,CAAC,KAAG,EAAO,CAAC,cAChFrC,IAAA,UACEwK,IAAI,CAAC,OAAO,CACZkB,GAAG,CAAC,GAAG,CACPP,GAAG,CAAC,IAAI,CACRlB,KAAK,CAAE5H,IAAK,CACZ6H,QAAQ,CAAGC,CAAC,EAAK7H,OAAO,CAAC6H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCN,SAAS,CAAC,QAAQ,CACnB,CAAC,EACC,CAAC,cAENzJ,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACxE5J,IAAA,UACEwK,IAAI,CAAC,QAAQ,CACbkB,GAAG,CAAC,GAAG,CACPP,GAAG,CAAC,IAAI,CACRV,IAAI,CAAC,KAAK,CACVR,KAAK,CAAE1H,GAAI,CACX2H,QAAQ,CAAGC,CAAC,EAAK3H,MAAM,CAAC2H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACxCS,WAAW,CAAC,4BAA4B,CACxCf,SAAS,CAAC,sCAAsC,CACjD,CAAC,EACC,CAAC,cAENzJ,KAAA,QAAA0J,QAAA,eACE5J,IAAA,UAAO2J,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cAC/D1J,KAAA,WACE+J,KAAK,CAAExH,KAAM,CACbyH,QAAQ,CAAGC,CAAC,EAAKzH,QAAQ,CAACyH,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1CN,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eAEhD5J,IAAA,WAAQiK,KAAK,CAAC,QAAQ,CAAAL,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC5J,IAAA,WAAQiK,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpC5J,IAAA,WAAQiK,KAAK,CAAC,cAAc,CAAAL,QAAA,CAAC,YAAU,CAAQ,CAAC,cAChD5J,IAAA,WAAQiK,KAAK,CAAC,YAAY,CAAAL,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9C5J,IAAA,WAAQiK,KAAK,CAAC,gBAAgB,CAAAL,QAAA,CAAC,gBAAc,CAAQ,CAAC,EAChD,CAAC,EACN,CAAC,CAELjH,SAAS,eACR3C,IAAA,QAAK2J,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/E1J,KAAA,QAAKyJ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD5J,IAAA,MAAG2J,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,cACzE5J,IAAA,WACE6J,OAAO,CAAEX,aAAc,CACvBS,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CACpE,QAED,CAAQ,CAAC,EACN,CAAC,CACH,CACN,cAED5J,IAAA,WACE6J,OAAO,CAAE3B,MAAO,CAChByB,SAAS,CAAC,mFAAmF,CAAAC,QAAA,CAE5F7G,YAAY,CAAG,YAAY,CAAG,SAAS,CAClC,CAAC,CACRA,YAAY,eACX/C,IAAA,WACE6J,OAAO,CAAEA,CAAA,GAAM,CACb7G,eAAe,CAAC,IAAI,CAAC,CACrBd,SAAS,CAAC,EAAE,CAAC,CACbE,OAAO,CAAC,EAAE,CAAC,CACXE,OAAO,CAAC,CAAC,CAAC,CACVE,MAAM,CAAC,EAAE,CAAC,CACVE,QAAQ,CAAC,QAAQ,CAAC,CAClBE,YAAY,CAAC,KAAK,CAAC,CACnBE,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACF6G,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CACtF,aAED,CAAQ,CACT,EACE,CAAC,cAEN1J,KAAA,QAAKyJ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5J,IAAA,OAAI2J,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAChD5J,IAAA,QAAK2J,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBnI,SAAS,CAACkK,KAAK,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC9C,GAAG,CAAEM,GAAG,eACnCpJ,IAAA,QAAkB2J,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACnD1J,KAAA,QAAKyJ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C1J,KAAA,QAAKyJ,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB5J,IAAA,MAAG2J,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAER,GAAG,CAAC0B,aAAa,CAAI,CAAC,cAClD5K,KAAA,MAAGyJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACjCR,GAAG,CAACnH,MAAM,CAAC,YAAO,CAACmH,GAAG,CAACjH,IAAI,CAAC,OAC7B,CAACiH,GAAG,CAACX,UAAU,eAAIzI,IAAA,SAAM2J,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EACzE,CAAC,cACJ1J,KAAA,MAAGyJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAC7B,CAACR,GAAG,CAACV,WAAW,CAAC,KACvB,CAACU,GAAG,CAAC7G,GAAG,kBAAA0C,MAAA,CAAemE,GAAG,CAAC7G,GAAG,CAAE,CAC/B,KAAK,CAAE6G,GAAG,CAAC3G,KAAK,CAAC,gBAAS,CAACiE,UAAU,CAAC0C,GAAG,CAACT,SAAS,CAAC,EACpD,CAAC,EACD,CAAC,cACNzI,KAAA,QAAKyJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7B,CAACR,GAAG,CAACX,UAAU,eACdzI,IAAA,WACE6J,OAAO,CAAEA,CAAA,GAAMb,aAAa,CAACI,GAAG,CAAC7I,EAAE,CAAE,CACrCoJ,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CACtE,MAED,CAAQ,CACT,cACD5J,IAAA,WACE6J,OAAO,CAAEA,CAAA,GAAMV,OAAO,CAACC,GAAG,CAAE,CAC5BO,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CACpE,MAED,CAAQ,CAAC,cACT5J,IAAA,WACE6J,OAAO,CAAEA,CAAA,GAAMR,SAAS,CAACD,GAAG,CAAC7I,EAAE,CAAE,CACjCoJ,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CACnE,KAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EApCER,GAAG,CAAC7I,EAqCT,CACN,CAAC,CACC,CAAC,EACH,CAAC,cAENP,IAAA,WACE6J,OAAO,CAAEJ,UAAW,CACpBE,SAAS,CAAC,qFAAqF,CAAAC,QAAA,CAChG,aAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAEA,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}